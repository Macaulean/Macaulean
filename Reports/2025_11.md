## Wins

### Infrastructure set up

We established the basic collaboration and development infrastructure, including a dedicated Zulip stream for design and technical discussions, shared GitHub repositories for code and documentation, and working Lean and Macaulay2 installs for all team members.

This has allowed us to iterate quickly on prototypes, review one another’s code, and keep design decisions visible and documented.

### JSON-RPC selected and implemented in a minimal working example

We chose JSON-RPC as the core communication protocol between Lean and computer algebra systems and have already implemented a minimal working example that successfully exchanges requests and responses.
JSON-RPC is a good fit because it is:
* Language- and platform-agnostic, making it easy for many CASs (written in different languages) to implement the same interface.
* Simple and widely used, with existing libraries and tooling that reduce maintenance burden.
* Structured around explicit request/response IDs, which is important for tracking and verifying CAS calls inside a proof assistant.
* Transport-agnostic (can run over stdio, TCP, etc.), which matches Lean’s existing and future server modes.

To our knowledge, this is the first project in formalized mathematics that uses JSON-RPC to connect a general-purpose CAS and an interactive theorem prover in a principled, extensible way.

### MRDI selected as the serialization schema for mathematical data; first implementation for Lean’s native `Poly` type

We adopted the MRDI (Mathematical Research Data Initiative) schema as the canonical JSON representation for mathematical objects traveling between Lean and CASs. MRDI provides:
* A community-oriented, extensible vocabulary for common mathematical structures (polynomials, matrices, morphisms, etc.).
* A versioned, documented format that can be shared across different tools, archives, and services.
* A clear path to long-term interoperability and data reuse beyond this one project.
  As a concrete first milestone, we implemented MRDI-based serialization for Lean’s native `Poly` type. This gives us:
  * An end-to-end pipeline from an internal Lean polynomial to a standardized MRDI JSON representation and back.
  * A template for extending MRDI-based encodings to more complex algebraic structures (e.g., multivariate polynomials, ideals, modules).
  * A proof-of-concept artifact we can share with other groups interested in MRDI-compatible formalized mathematics.

### General framework for CAS-as-oracle interfaces, with M2 as the flagship example

In the course of designing the Lean–Macaulay2 bridge, we expanded the architecture so that it is not M2-specific.

Instead, we are developing a general “CAS oracle” framework:
a clear, documented interface that any CAS can implement to act as a certified oracle for Lean.

Macaulay2 serves as the primary, deeply developed example, but the same interface is designed to support future connectors (e.g., Singular, Sage, GAP).
This shift from a single-purpose bridge to a general framework:
* Increases the long-term impact of the project.
* Encourages other CAS developers and AI-for-Math teams to plug into Lean with minimal duplication of effort.
* Provides a common abstraction layer where correctness and soundness guarantees can be reasoned about once and reused.

### Built directly on core Lean rather than mathlib (with planned mathlib integration layer)

We deliberately based the core interface and protocol code on Lean’s standard library rather than depending on mathlib. This has several advantages:
* Users who want a lightweight integration do not need to pull in the full mathlib dependency tree.
* The core RPC and serialization layers remain small, auditable, and easier to maintain alongside Lean’s evolution.
* It becomes straightforward to build separate, optional “mathlib integration” packages on top, which can evolve at the mathlib pace without destabilizing the core.

This design choice positions the project as a low-friction dependency for both research prototypes and production-scale formalization projects.

## Challenges

### Adapting to changes in the new `grind` tactic and its polynomial normal forms

The new `grind` tactic in Lean now incorporates a dedicated normal form type for integer polynomials.

This overlaps with some of our planned functionality and required us to pause and carefully study the implementation.

The challenge is to (1) avoid duplicating or forking similar functionality, and (2) integrate with `grind` in a way that preserves soundness and performance.

We have spent time reviewing the `grind` codebase, discussing design choices, and are now comfortable moving forward with a design that reuses and extends the existing normal-form infrastructure rather than competing with it.

### Administrative delay in funding disbursement

There were some initial delays in processing and disbursing the project’s funding through the university’s administrative channels.

This temporarily slowed ramp-up for some collaborators (e.g., student hiring and travel planning).

These issues have now been resolved, and the project is operating with the expected resources in place.

### Expanded scope requires more careful core design

As we broadened the project from “Lean–Macaulay2 only” to a general CAS oracle framework, we encountered the challenge of identifying a truly minimal and flexible set of core abstractions.
To address this, we are:
* Systematically cataloging “core CAS tasks” (e.g., Gröbner bases, primary decomposition, solving polynomial systems, basic linear algebra) that should be supported in a first pass.
* Using these tasks to guide the shape of the JSON-RPC methods, MRDI schemas, and Lean-side APIs.
* Engaging with other AI-for-Math groups who have expressed interest in using our framework so that their use cases inform our design, rather than being bolted on later.

This process takes additional time up front but should yield a more robust and reusable interface.

## Events

### Weekly Zoom meetings

The core team meets weekly via Zoom to coordinate technical work, review milestones, and make design decisions.

These meetings have been important for keeping Lean, Macaulay2, and MRDI perspectives aligned and for quickly resolving questions about implementation details.

### UK Maths Week Parliamentary Expo

Testa participated in the UK Maths Week Parliamentary Expo, where he shared a booth and used the opportunity to present the broader vision of this project—namely, integrating computer algebra, formal verification, and AI tools into a coherent workflow.

This helped raise awareness of the Lean–M2 interface and the general CAS-oracle framework among mathematicians, policymakers, and other stakeholders, and it led to several follow-up conversations with groups interested in applying these tools in their own AI-for-math projects.
